function colorPicker(a){function g(b){var c=j(b);a.onmousemove&&a.onmousemove(o(c.red,c.green,c.blue))}function h(b){var f=j(b);c=f.red,d=f.green,e=f.blue,a.onclick&&a.onclick(o(c,d,e))}function i(){var f=document.getElementById("canvas_r"),g=document.getElementById("canvas_gb");f.style.top=c,g.style.left=d,g.style.top=e,a.onclick&&a.onclick(o(c,d,e))}function j(a){var k,l,b=f.getBoundingClientRect(),g=a.clientX-b.left,h=a.clientY-b.top,j={};return j.red=c,j.green=d,j.blue=e,g>=260?(k=document.getElementById("canvas_r"),j.red=h,k.style.top=h-h%5):g>255&&i(a),250>=g&&(l=document.getElementById("canvas_gb"),l.style.left=g-g%5,l.style.top=h-h%5,j.green=g,j.blue=h),j}function k(a,b){f.style.width=a,f.style.height=b,f.style.position="relative",f.innerHTML='<canvas style="float: left;"></canvas><div style="border: 1px solid white; width: 5px; height: 5px; position: absolute;" id="canvas_gb"></div><div style="border: 1px solid white; width: 20; height: 5; position: absolute; left: 260px;" id="canvas_r"></div>',f.firstChild.width=a,f.firstChild.height=b}function l(){return f.firstChild.getContext("2d")}function m(a,b,c,d){var e,f;for(e=b;255>e;e+=d)for(f=c;255>f;f+=d)a.fillStyle=o(0,e,f),a.fillRect(e,f,d,d)}function n(a,b,c,d){for(var e=c;255>e;e+=d)a.fillStyle=o(e,0,0),a.fillRect(b,e,20,d)}function o(a,b,c){var d=a.toString(16),e=b.toString(16),f=c.toString(16);return d.length<2&&(d="0"+d),e.length<2&&(e="0"+e),f.length<2&&(f="0"+f),"#"+d+e+f}var c,d,e,f;return this.id=a.id,c=0,d=0,e=0,(f=document.getElementById(this.id))?(k(280,255),m(l(),0,0,5),n(l(),260,0,5),f.onmousemove=g,f.onclick=h,f.onmouseleave=i,void 0):(alert("Can't find element identified by '"+this.id+"'"),void 0)}